{"version":3,"sources":["../../../src/rules/exhaustive-deps.utils.ts"],"sourcesContent":["import { AST_NODE_TYPES } from '@typescript-eslint/utils'\nimport { ASTUtils } from '../utils/ast-utils'\nimport type { TSESLint } from '@typescript-eslint/utils'\n\nexport const ExhaustiveDepsUtils = {\n  isRelevantReference(params: {\n    context: Readonly<TSESLint.RuleContext<string, ReadonlyArray<unknown>>>\n    reference: TSESLint.Scope.Reference\n    scopeManager: TSESLint.Scope.ScopeManager\n  }) {\n    const { reference, scopeManager, context } = params\n    const component = ASTUtils.getFunctionAncestor(context)\n\n    if (\n      component !== undefined &&\n      !ASTUtils.isDeclaredInNode({\n        scopeManager,\n        reference,\n        functionNode: component,\n      })\n    ) {\n      return false\n    }\n\n    return (\n      reference.identifier.name !== 'undefined' &&\n      reference.identifier.parent?.type !== AST_NODE_TYPES.NewExpression &&\n      !ExhaustiveDepsUtils.isQueryClientReference(reference)\n    )\n  },\n  isQueryClientReference(reference: TSESLint.Scope.Reference) {\n    const declarator = reference.resolved?.defs[0]?.node\n\n    return (\n      declarator?.type === AST_NODE_TYPES.VariableDeclarator &&\n      declarator.init?.type === AST_NODE_TYPES.CallExpression &&\n      declarator.init.callee.type === AST_NODE_TYPES.Identifier &&\n      declarator.init.callee.name === 'useQueryClient'\n    )\n  },\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA+B;AAC/B,uBAAyB;AAGlB,IAAM,sBAAsB;AAAA,EACjC,oBAAoB,QAIjB;AATL;AAUI,UAAM,EAAE,WAAW,cAAc,QAAQ,IAAI;AAC7C,UAAM,YAAY,0BAAS,oBAAoB,OAAO;AAEtD,QACE,cAAc,UACd,CAAC,0BAAS,iBAAiB;AAAA,MACzB;AAAA,MACA;AAAA,MACA,cAAc;AAAA,IAChB,CAAC,GACD;AACA,aAAO;AAAA,IACT;AAEA,WACE,UAAU,WAAW,SAAS,iBAC9B,eAAU,WAAW,WAArB,mBAA6B,UAAS,4BAAe,iBACrD,CAAC,oBAAoB,uBAAuB,SAAS;AAAA,EAEzD;AAAA,EACA,uBAAuB,WAAqC;AA9B9D;AA+BI,UAAM,cAAa,qBAAU,aAAV,mBAAoB,KAAK,OAAzB,mBAA6B;AAEhD,YACE,yCAAY,UAAS,4BAAe,wBACpC,gBAAW,SAAX,mBAAiB,UAAS,4BAAe,kBACzC,WAAW,KAAK,OAAO,SAAS,4BAAe,cAC/C,WAAW,KAAK,OAAO,SAAS;AAAA,EAEpC;AACF;","names":[]}